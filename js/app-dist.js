"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Menu=function e(){var i=this;_classCallCheck(this,e),this.changeCategory=function(e){var t=$(e.currentTarget);i.$infoDropdownItem.removeClass("header__info-dropdown-item--active"),t.addClass("header__info-dropdown-item--active"),i.toggleDropdown()},this.toggleDropdown=function(){i.$infoDropdown.toggleClass("header__info-dropdown--active")},this.toggleMobileNav=function(){i._$body.toggleClass("menu-open");var e=setTimeout(function(){i._$nav.css("height",i._$body.innerHeight()+"px"),clearTimeout(e)},250)},this._$btn=$(".header__btn"),this._$nav=$(".nav-mobile"),this._$body=$("body"),this._$wrapper=$(".wrapper"),this.$btnInfo=$(".header__info-btn"),this.$infoDropdown=$(".header__info-dropdown"),this.$infoDropdownItem=$(".header__info-dropdown-item"),this._$btn.click(this.toggleMobileNav),this.$infoDropdownItem.click(this.changeCategory),this.$btnInfo.click(this.toggleDropdown)},Matchings=function e(t){var a=this;_classCallCheck(this,e),this.resizeInterests=function(){a._$interestsGroup.css("width",a._$interestsContainer.width()+"px");a._$interestsGroup.each(function(e){var t=$(this);t.innerWidth()})},this.handleResize=function(){a.resizeInterests()},this._$window=$(window),this._swipesCount=t,this._$slider=$(".matching__slider-list"),this._$slider.slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,autoplay:!1,responsive:[{breakpoint:992,settings:{arrows:!0,appendArrows:$(".matching__slider-controls"),prevArrow:"<div class='matching__slider-arrow matching__slider-arrow--prev'><img src='images/i-chevron.svg' class='matching__slider-arrow-icon'></div>",nextArrow:"<div class='matching__slider-arrow matching__slider-arrow--next'><img src='images/i-chevron.svg' class='matching__slider-arrow-icon'></div>"}}]}),this._$slider.on("afterChange",function(e,t,i){var s=$(".matching__slider-item").eq(i+1);if(!s.hasClass("matching__slider-item--viewed")){var n=$(".header__swipes span").text(),r=parseInt(n)-1;$(".header__swipes span").text(r),r<=0&&(r=0,$(".header__swipes span").text(0),a._$slider.addClass("matching__slider-list--disabled")),a._swipesCount.checkCount(r)}s.addClass("matching__slider-item--viewed")}),$(".matching__actions-inner-track").overlayScrollbars({}),this._$interestsContainer=$(".matching__actions .container"),this._$interestsInner=$(".matching__actions-inner"),this._$interestsTrack=$(".matching__actions-inner-track"),this._$interestsGroup=$(".matching__actions-group").not(".matching__actions-group--incomplete"),this.resizeInterests(),this._$window.resize(this.handleResize)},PopupManager=function e(){var i=this;_classCallCheck(this,e),this.closePopups=function(){i._$backdrop.removeClass("backdrop--active"),i._$popup.removeClass("popup--active")},this.togglePopup=function(e){i._$backdrop.toggleClass("backdrop--active");var t=$(e.currentTarget).attr("data-popup-open");$('[data-popup-target="'+t+'"]').toggleClass("popup--active")},this._$backdrop=$(".backdrop"),this._$popup=$(".popup"),this._$trigger=$("[data-popup-open]"),this._$target=$("[data-popup-target]"),this._$trigger.click(this.togglePopup),this._$backdrop.click(this.closePopups)},Gallery=function e(){var t=this;_classCallCheck(this,e),this.toggleGallery=function(){t.$popup.toggleClass("popup-gallery--active")},this.$btn=$(".matching__profile-gallery-trigger, .matching__profile-count"),this.$close=$(".popup-gallery__btn"),this.$popup=$(".popup-gallery"),this.$slider=$(".popup-gallery__slider"),this.$next=$(".popup-gallery__trigger--next"),this.$prev=$(".popup-gallery__trigger--prev"),this.$current=$(".popup-gallery__current"),this.$total=$(".popup-gallery__total"),this.$close.click(this.toggleGallery),this.$btn.click(this.toggleGallery),this.$slider.slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,autoplay:!1}),this.$next.click(function(){t.$slider.slick("slickNext")}),this.$prev.click(function(){t.$slider.slick("slickPrev")}),this.$total.text(this.$slider.slick("getSlick").slideCount),this.$slider.on("afterChange",function(){t.$current.text(t.$slider.slick("slickCurrentSlide")+1)})},SwipesCount=function e(){var t=this;_classCallCheck(this,e),this.checkCount=function(e){50<=e?t.$container.removeClass("header__swipes--medium header__swipes--low"):25<=e&&e<50?t.$container.removeClass("header__swipes--low").addClass("header__swipes--medium"):e<25&&t.$container.removeClass("header__swipes--medium").addClass("header__swipes--low")},this.$container=$(".header__swipes"),this.count=$(".header__swipes span").text(),this.checkCount(this.count)};$(document).ready(function(){if(0<$(".nav-mobile").length)new Menu;if(0<$(".header__swipes").length&&0===$(".matching__slider").length)new SwipesCount;if(0<$(".matching__slider").length){var e=new SwipesCount;new Matchings(e)}if(0<$(".popup").length)new PopupManager;if(0<$(".popup-gallery").length)new Gallery;if(0<$(".messages__btn").length&&$(".messages__btn").click(function(e){var t=$(e.currentTarget),i=t.children(),s=i.text();t.toggleClass("btn--border"),i.toggleClass("u-color-gradient"),"INVITE"===s?i.text("INVITED"):i.text("INVITE")}),0<$("[data-max-words]").length&&$("[data-max-words]").each(function(e){var t=$(this),i=$("[data-label-target="+t.attr("data-label")+"]"),s=t.attr("data-max-words");t.on("input",function(){var e=t.val().split(" ").length;""===t.val()?i.text(s):i.text(s-e)})}),0<$(".registration__photos").length){var t=0,i=$(window),s=$("body"),n=$(".registration");576<=i.width()&&(t=(s.width()-n.width())/2),i.resize(function(){if(576<=i.width()){t=(s.width()-n.width())/2,o.slick("unslick");var e={mobileFirst:!0,slidesToShow:2,slidesToScroll:1,centerMode:!0,centerPadding:"60px",arrows:!1,dots:!1,autoplay:!1,infinite:!1,initialSlide:1,responsive:[{breakpoint:576,settings:{centerPadding:t+"px"}},{breakpoint:768,settings:{slidesToShow:2,centerPadding:"calc("+t+"px - .75rem)"}},{breakpoint:992,settings:{centerPadding:"calc("+t+"px - .75rem)"}},{breakpoint:1200,settings:{centerPadding:"calc("+t+"px - .75rem)"}},{breakpoint:1460,settings:{centerPadding:"calc("+t+"px - .75rem)"}}]};o.slick(e)}});var r={mobileFirst:!0,slidesToShow:2,slidesToScroll:1,centerMode:!0,centerPadding:"60px",arrows:!1,dots:!1,autoplay:!1,infinite:!1,initialSlide:1,responsive:[{breakpoint:576,settings:{centerPadding:t+"px"}},{breakpoint:768,settings:{slidesToShow:2,centerPadding:"calc("+t+"px - .75rem)"}},{breakpoint:992,settings:{centerPadding:"calc("+t+"px - .75rem)"}},{breakpoint:1200,settings:{centerPadding:"calc("+t+"px - .75rem)"}},{breakpoint:1460,settings:{centerPadding:"calc("+t+"px - .75rem)"}}]},a=function(e){var t=$(e.currentTarget).parent().index();$(".registration__photos-item").eq(t).fadeOut("fast",function(){o.slick("slickRemove",t)})},o=$(".registration__photos");o.slick(r),$(".registration__photos-item-delete").click(a);$(".registration__photos-browse-input").change(function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){var t=e.target.result,i=$('<div class="registration__photos-item" style="background-image: url(\''+t+'\');">\n                    <img src="images/i-delete.svg" alt="Delete" class="registration__photos-item-delete">\n                    </div>');i.find(".registration__photos-item-delete").click(a),o.slick("slickAdd",i,0,!0)},t.readAsDataURL(e.files[0])}}(this)})}if(0<$(".range").length){var l=$("#range"),c=l[0],d=$("#age_min"),p=$("#age_max"),h=l.attr("data-initial-min"),g=l.attr("data-initial-max");null==h&&null==g&&(h=18,g=38),noUiSlider.create(c,{start:[h,g],connect:!0,tooltips:!0,format:{to:function(e){return e+""},from:function(e){return e.replace(",-","")}},step:20,range:{min:18,max:100}});var _=[18,38],u=0,m=0;d.val(_[0]),p.val(_[1]),c.noUiSlider.on("slide",function(e,t,i,s,n){0===t?e[0]<_[0]?(c.noUiSlider.set([e[0],parseInt(e[1])-20]),u=e[0],m=parseInt(e[1])-20):(c.noUiSlider.set([e[0],parseInt(e[1])+20]),u=e[0],m=parseInt(e[1])+20):(e[1]<_[1]?(c.noUiSlider.set([parseInt(e[0])-20,e[1]]),u=parseInt(e[0])-20):(c.noUiSlider.set([parseInt(e[0])+20,e[1]]),u=parseInt(e[0])+20),m=e[1]),_=e,d.val(parseInt(u)),p.val(parseInt(m))})}});
//# sourceMappingURL=app-dist.js.map